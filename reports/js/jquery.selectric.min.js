/*! Selectric ÏŸ v1.5.4 - git.io/tjl9sQ - Copyright (c) 2013 Leonardo Santos - Dual licensed: MIT/GPL */
(function(c){var b="selectric",D=function(){},C=function(d,e){function E(){var a=c("option",f.wrap('<div class="'+b+'HideSelect">')),z="",p=g.closest(":visible").children().not(":visible"),d=e.maxHeight,l;k=a.filter(":"+q).index();if(l=a.length)a.each(function(a,e){var b=c(e).text(),f=r,g=c(e).val(),d=b,h,p="40-46 50-53 54-57 62-70 71-74 61 47 77".replace(/\d+/g,"\\3$&").split(" ");for(h in p)d=d.toLowerCase().replace(RegExp("["+p[h]+"]","g"),"aeiouncy".charAt(h));f[a]={value:g,text:b,slug:d};z+='<li class="'+(a==k?q:"")+(a==l-1?" last":"")+'">'+b+"</li>"}),C.empty().append(z),A.text(r[k].text);m.add(f).off(h);n.prop("class",b+"Wrapper "+f.prop("class")+" "+F);f.prop("disabled")||(n.removeClass(F).hover(function(){c(this).toggleClass(b+"Hover")}),e.openOnHover&&m.on("mouseenter"+h,t),m.on(G,function(a){s?u(a):t(a)}),f.on(N,function(a){var b=a.which;/^(9|13|27)$/.test(b)&&(a.stopPropagation(),v(k,!0));/^(13|27)$/.test(b)&&a.preventDefault();clearTimeout(H);if(37>b||40<b){var d=RegExp("^"+(w+=String.fromCharCode(b)),"i");c.each(r,function(a,b){d.test([b.slug,b.text])&&v(a)});H=setTimeout(function(){w=""},e.keySearchTimeout)}else w="",v(/^(39|40)$/.test(b)?(k+1)%l:(0<k?k:l)-1)}).on("focusin"+h,function(a){s||t(a)}),x=c("li",g.removeAttr("style")).click(function(){v(c(this).index(),!0);return!1}));p.addClass(I);g.width(m.outerWidth()-2*e.border).height()>d&&g.height(d);p.removeClass(I)}function t(a){a.preventDefault();a.stopPropagation();c("."+B+" select")[b]("close");s=!0;l=g.height();J();var d=y.scrollTop();"click"==a.type&&f.focus();y.scrollTop(d);K.off(h).on(G,u);clearTimeout(L);if(e.openOnHover)n.off(h).on("mouseleave"+h,function(a){L=setTimeout(function(){K.click()},500)});n.addClass(B);M(k);e.onOpen.call(this)}function J(){s&&(g.css("top",n.offset().top+n.outerHeight()+l>y.scrollTop()+y.height()?-l:""),setTimeout(J,100))}function u(){var a=r[k].text;a!=A.text()&&f.change();A.text(a);n.removeClass(B);s=!1;e.onClose.call(this)}function v(a,b){f.prop("value",r[k=a].value).find("option").eq(a).prop(q,!0);x.removeClass(q).eq(a).addClass(q);M(a);b&&u()}function M(a){var b=x.eq(a).outerHeight();a=x[a].offsetTop;var c=g.scrollTop(),d=a+2*b;g.scrollTop(d>c+l?d-l:a-b<c?a-b:c)}e=c.extend({onOpen:D,onClose:D,maxHeight:300,keySearchTimeout:500,arrowButtonMarkup:'<b class="button">&#9662;</b>',disableOnMobile:!0,border:1,openOnHover:!1},e);if(!e.disableOnMobile||!/android|ip(hone|od|ad)/i.test(navigator.userAgent)){var f=c(d),m=c('<div class="'+b+'"><p class="label"/>'+e.arrowButtonMarkup+"</div>"),g=c('<div class="'+b+'Items" tabindex="-1"><ul/></div>'),n=f.data(b,e).wrap("<div>").parent().append(m).append(g),r=[],s=!1,A=c(".label",m),C=c("ul",g),x,h=".sl",K=c(document),y=c(window),N="keydown"+h,G="click"+h,w="",H,B=b+"Open",F=b+"Disabled",I=b+"TempShow",q="selected",k,l,L;E();f.on({refresh:E,destroy:function(){g.add(m).remove();f.removeData(b).off(h+" refresh destroy open close").unwrap().unwrap()},open:t,close:u})}};c.fn[b]=function(d,e){return this.each(function(){c(this).data(b)?""+d===d&&c(this).trigger(d):C(this,d||e)})}})(jQuery);